<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Report Action -->
    <record id="action_report_booking_full" model="ir.actions.report">
        <field name="name">Event Booking Full Report</field>
        <field name="model">event.booking</field>
        <field name="report_type">qweb-pdf</field>
        <field name="report_name">event_management.report_booking_full_document</field>
        <field name="report_file">event_management.report_booking_full_document</field>
        <field name="binding_model_id" ref="model_event_booking"/>
        <field name="binding_type">report</field>
    </record>

    <!-- Header Template -->
    <template id="debit_note_header">
        <div class="header">
            <div class="o_clean_header">
                <div class="row">
                    <div class="col-12">
                        <div class="row">
                            <div class="col-6">
                                <img t-if="doc.company_id.logo"
                                     t-att-src="image_data_uri(doc.company_id.logo)"
                                     alt="Logo"
                                     width="120" height="80" style="margin-top:5px;"/>
                            </div>
                            <div class="col-6"
                                 style="text-align:right; font-size:14px;">
                                <h6 style="color:black; font-weight:bold;">
                                    <t t-if="doc.company_id.street">
                                        <t t-esc="doc.company_id.street"/>,
                                        <br/>
                                        <t t-esc="doc.company_id.street2"/>
                                        <t t-esc="doc.company_id.city"/>
                                    </t>
                                </h6>
                                <h6 style="color:black; font-weight:bold; margin-top:-4px;">
                                    <t t-if="doc.company_id.phone">
                                        <t t-esc="doc.company_id.phone"/>
                                    </t>
                                </h6>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </template>

    <!-- Footer Template -->
    <template id="debit_note_footer">
        <div class="footer">
            <div class="row" style="font-size:12px;font-family:'Roboto',sans-serif;color:#294E73;">
                <div class="col-4 text-center">
                    <span style="color:#1d3c34;">Printed By:
                        <span t-esc="request.env.user.name"/>
                    </span>
                </div>
                <div class="col-4 text-center">
                    <span style="color:#1d3c34;">Page</span> &amp;nbsp;
                    <span class="page" style="color:#1d3c34;"/> &amp;nbsp;/
                    <span class="topage" style="color:#1d3c34;"/>
                </div>
                <div class="col-4 text-center">
                    <span style="color:#1d3c34;">Print Date:
                        <span t-esc="context_timestamp(datetime.datetime.now()).strftime('%d-%m-%Y')"/>
                    </span>
                </div>
            </div>
        </div>
    </template>

    <!-- Report Template -->
    <template id="report_booking_full_document">
        <t t-call="web.html_container">
            <t t-call="web.external_layout">
                <t t-set="doc" t-value="docs[0]"/>
                <div class="page">

                    <!-- Title -->
                    <h2 style="color:#875A7B; text-align:center; border-bottom:2px solid #875A7B; padding:5px;margin-top=20px;">
                        EVENT BOOKING FORM
                    </h2>

                    <!-- Customer & Event Info -->
                    <div class="row mt-4">
                        <div class="col-6">
                            <h4 style="color:#875A7B;">Customer Info</h4>
                            <p>
                                <strong>Name:</strong>
                                <span t-field="doc.name"/>
                            </p>
                            <p>
                                <strong>Phone:</strong>
                                <span t-field="doc.phone"/>
                            </p>
                            <p>
                                <strong>Total Persons:</strong>
                                <span t-field="doc.total_person"/>
                            </p>
                            <p>
                                <strong>Status:</strong>
                                <span t-field="doc.status"/>
                            </p>
                        </div>
                        <div class="col-6">
                            <h4 style="color:#875A7B;">Event Info</h4>
                            <p>
                                <strong>Event Type:</strong>
                                <span t-field="doc.event_type_id.name"/>
                            </p>
                            <p>
                                <strong>Category:</strong>
                                <span t-field="doc.event_category_id.name"/>
                            </p>
                            <p>
                                <strong>Hall:</strong>
                                <span t-field="doc.hall_id.name"/>
                            </p>
                            <p>
                                <strong>Date:</strong>
                                <span t-field="doc.booking_date" t-options="{'widget': 'date'}"/>
                            </p>
                            <p>
                                <strong>Timing:</strong>
                                <span t-field="doc.start_time"
                                      t-options="{'widget': 'datetime', 'format': '%H:%M'}"/>
                                -
                                <span t-field="doc.end_time" t-options="{'widget': 'datetime', 'format': '%H:%M'}"/>
                            </p>
                        </div>
                    </div>
                    <!-- Available Meal Packages -->
                    <t t-if="doc.selected_meal_packages">
                        <h4 style="color:#875A7B; margin-top:20px;">Available Meal Packages</h4>
                        <table class="table table-bordered">
                            <thead style="background:#875A7B; color:white; text-align:center;">
                                <tr>
                                    <th style="text-align:center;">Name</th>
                                    <th style="text-align:center;">Meat Type</th>
                                    <th style="text-align:center;">Total Price</th>
                                    <th style="text-align:center;">Dishes</th>
                                </tr>
                            </thead>
                            <tbody style="text-align:center;">
                                <t t-foreach="doc.selected_meal_packages" t-as="pkg">
                                    <tr>
                                        <td>
                                            <span t-field="pkg.name"/>
                                        </td>
                                        <td>
                                            <span t-field="pkg.meat_type"/>
                                        </td>
                                        <td>
                                            <span t-field="pkg.total_meal_price"/>
                                        </td>
                                        <td>
                                            <t t-if="pkg.meat_dishes">
                                                <div>üçñ
                                                    <span t-field="pkg.meat_dishes"/>
                                                </div>
                                            </t>
                                            <t t-if="pkg.rice_dish_ids">
                                                <div>üçö
                                                    <span t-field="pkg.rice_dish_ids"/>
                                                </div>
                                            </t>
                                            <t t-if="pkg.dessert_ids">
                                                <div>üç∞
                                                    <span t-field="pkg.dessert_ids"/>
                                                </div>
                                            </t>
                                            <t t-if="pkg.salad_ids">
                                                <div>ü•ó
                                                    <span t-field="pkg.salad_ids"/>
                                                </div>
                                            </t>
                                            <t t-if="pkg.drink_ids">
                                                <div>ü•§
                                                    <span t-field="pkg.drink_ids"/>
                                                </div>
                                            </t>
                                            <t t-if="pkg.bread_ids">
                                                <div>üçû
                                                    <span t-field="pkg.bread_ids"/>
                                                </div>
                                            </t>
                                        </td>
                                    </tr>
                                </t>
                            </tbody>
                        </table>
                    </t>

                    <!-- Selected Dishes -->
                    <t t-if="doc.selected_dishes">
                        <h4 style="color:#875A7B; margin-top:20px;">Selected Dishes</h4>
                        <table class="table table-bordered">
                            <thead style="background:#875A7B; color:white; text-align:center;">
                                <tr>
                                    <th style="text-align:center;">Name</th>
                                    <th style="text-align:center;">Type</th>
                                </tr>
                            </thead>
                            <tbody style="text-align:center;">
                                <t t-foreach="doc.selected_dishes" t-as="dish">
                                    <tr>
                                        <td>
                                            <span t-field="dish.name"/>
                                        </td>
                                        <td>
                                            <span t-field="dish.meal_type"/>
                                        </td>
                                    </tr>
                                </t>
                            </tbody>
                        </table>
                    </t>

                    <!-- Amenities -->
                    <t t-if="doc.amenities">
                        <h4 style="color:#875A7B; margin-top:20px;">Amenities</h4>
                        <table class="table table-bordered">
                            <thead style="background:#875A7B; color:white; text-align:center;">
                                <tr>
                                    <th style="text-align:center;">Amenity</th>
                                    <th style="text-align:center;">Price</th>
                                </tr>
                            </thead>
                            <tbody style="text-align:center;">
                                <t t-foreach="doc.amenities" t-as="amn">
                                    <tr>
                                        <td>
                                            <span t-field="amn.name"/>
                                        </td>
                                        <td>Rs.
                                            <span t-field="amn.price"/>
                                        </td>
                                    </tr>
                                </t>
                            </tbody>
                        </table>
                    </t>

                    <!-- Cost Summary -->
                    <h4 style="color:#875A7B; margin-top:20px;">Summary</h4>
                    <table class="table table-bordered" style="width:50%; float:right;">
                        <tr>
                            <td>
                                <strong>üí∞ Per Person Cost</strong>
                            </td>
                            <td class="text-right">Rs.
                                <span t-field="doc.dishes_per_person"/>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <strong>üë• Total Persons</strong>
                            </td>
                            <td class="text-right">
                                <span t-field="doc.total_person"/>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <strong>üßæ Total Food Cost</strong>
                            </td>
                            <td class="text-right">Rs.
                                <span t-field="doc.total_dishes_cost"/>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <strong>üé™ Amenities Cost</strong>
                            </td>
                            <td class="text-right">Rs.
                                <span t-field="doc.amenities_total"/>
                            </td>
                        </tr>
                        <tr style="background:#875A7B; color:white;">
                            <td>
                                <strong>üí∞ GRAND TOTAL</strong>
                            </td>
                            <td class="text-right">Rs.
                                <span t-field="doc.grand_total"/>
                            </td>
                        </tr>
                    </table>

                    <div style="clear:both; margin-top:50px; text-align:center; color:#666;">
                        <p>Thank you for booking with us!</p>
                    </div>

                    <!-- Terms and Conditions -->
                    <div style="margin-top:30px; page-break-inside:avoid;">
                        <h4 style="color:#875A7B; border-bottom:1px solid #875A7B; padding-bottom:5px;">Terms and
                            Conditions
                        </h4>
                        <div style="font-size:10px; line-height:1.4; margin-top:10px;">
                            <p>
                                <strong>Booking &amp; Payment:</strong>
                                Reservation confirmed with advance (non-refundable). Full payment required before
                                the event.
                            </p>
                            <p>
                                <strong>Cancellation:</strong>
                                Advance is non-refundable; late cancellations may be fully charged. Venue
                                cancellations allow refund or reschedule.
                            </p>
                            <p>
                                <strong>Event Timing &amp; Capacity:</strong>
                                Must follow agreed hours and guest limit. Extra time or exceeding capacity will
                                incur charges.
                            </p>
                            <p>
                                <strong>Decorations &amp; Damages:</strong>
                                Only approved d√©cor allowed; client is responsible for any damages.
                            </p>
                            <p>
                                <strong>Food &amp; Catering:</strong>
                                Must use approved caterers. Alcohol and food handling must follow venue/local laws.
                            </p>
                            <p>
                                <strong>Liability &amp; Conduct:</strong>
                                Client is responsible for guests/vendors. Venue not liable for personal loss;
                                illegal/disruptive behavior may end event.
                            </p>
                        </div>
                    </div>

                </div>
            </t>
        </t>
    </template>
</odoo>